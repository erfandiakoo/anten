<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome | Configuration Profile Generator with Unique Uuid</title>
    <!-- Tailwind css -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Add custom CSS styles -->
    <link rel="stylesheet" href="./styles/main.css">
    <!-- Add custom fonts from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet">
    <!-- Vazir Font -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet"
        type="text/css" />
    <link rel="shortcut icon" href="./assets/booster.png" type="image/x-icon">

</head>

<body>
    <!-- Preloader -->
    <div
        class="preloader-screen flex justify-center items-center h-screen w-full fixed inset-0 overflow-hidden z-[9999] duration-500 bg-gray-950">
        <div class="spinner"></div>
    </div>

    <div class="mx-auto max-w-3xl p-5 flex justify-center items-center flex-col">
        <h1 class="text-2xl mt-12 text-center font-thin">Configuration Profile Generator with Unique <b>UUID</b></h1>
        <!-- <h1 class=" text-2xl mt-12 text-center">سازنده پروفایل آیفون یونیک با استفاده از UUID</h1> -->
        <a href="https://x.com/aigptcode" target="_blank"
            class="w-full p-5 text-center font-thin flex justify-center items-center flex-row-reverse gap-1 text-white rounded-xl card hover:bg-[#ffffff52] my-4">اموزش
            تصویری
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z" />
            </svg>

        </a>
        </h1>
        <!-- Add form for configuration generator -->
        <form id=" config-form" class="w-full flex flex-col justify-center items-center">
            <!-- APN -->
            <div class="mb-3 flex flex-row-reverse gap-2 justify-center items-center">
                <div class="form-text font-thin"> : Choose Your APN</div>
                <select id="apn" class="form-select border-none rounded-sm bg-white text-black px-4 py-1 text-center">
                    <option value="mcinet">MCI</option>
                    <option value="mtnirancell">Irancell</option>
                    <option value="RighTel">RighTel</option>
                </select>
            </div>

            <button type="submit"
                class="rounded-xl bg-blue-600 text-white px-10 py-4 hover:bg-blue-800 hover:shadow-md duration-300">
                Generate Profile
            </button>
        </form>

        <!-- Message box -->
        <div class="grid grid-cols-1 lg:grid-cols-2 mt-12 mx-auto max-w-[1200px] gap-4" role="alert">
            <div
                class="card p-5 rounded-xl shadow-lg hover:-translate-y-2 duration-500 flex flex-col justify-center items-center gap-3   group">
                <img src="./assets/booster.png" class="w-32 group-hover:scale-110 duration-500">
                <h4 class="alert-heading carrier">Signal Booster</h4>
                <p>A signal booster, also known as a repeater, is a device that amplifies a wireless signal. It can
                    be
                    used
                    to improve the signal strength and coverage in areas where the signal is weak or obstructed.</p>
            </div>
            <div
                class="card p-5 rounded-xl shadow-lg hover:-translate-y-2 duration-500 flex flex-col justify-center items-center gap-3   group">
                <img src="./assets/apn.png" class="w-32 group-hover:scale-110 duration-500">

                <h4 class="alert-heading apn">APN</h4>
                <p>APN (Access Point Name) is a gateway between a cellular network and the public internet. It is
                    used
                    to
                    set up a data connection on a mobile device, and different carriers may have different APN
                    settings.
                </p>

            </div>
            <div
                class="card p-5 rounded-xl shadow-lg hover:-translate-y-2 duration-500 flex flex-col justify-center items-center gap-3   group">
                <img src="./assets/proxy.png" class="w-32 group-hover:scale-110 duration-500">



                <h4 class="alert-heading proxy">Proxy</h4>
                <p>A proxy server is an intermediary between a client and a server. It can be used to provide
                    anonymity,
                    filter content, or cache data to improve performance.</p>
            </div>
            <div
                class="card p-5 rounded-xl shadow-lg hover:-translate-y-2 duration-500 flex flex-col justify-center items-center gap-3   group">
                <img src="./assets/dns.png" class="w-32 group-hover:scale-110 duration-500">
                <h4 class="alert-heading dns">DNS</h4>
                <p>DNS (Domain Name System) is a system that translates domain names into IP addresses. It can be
                    used
                    to
                    block or redirect access to certain websites, or to improve the performance of a network.</p>

            </div>
        </div>
    </div>

    <!-- Add custom JavaScript -->
    <script>
        const preloader = document.querySelector(".preloader-screen");
        window.addEventListener("load", () => {
            setTimeout(() => {
                preloader.classList.add("hidden");
            }, 1500);
        })

        const configForm = document.getElementById('config-form');

        function generateUniqueUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function handleFormSubmit(event) {
            event.preventDefault();

            // Collect form data
            const apn = document.getElementById('apn').value;

            // Create the XML-formatted plist string
            const configPlist = `<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>PayloadContent</key>
<array>
<!-- Cellular Settings -->
<dict>
    <key>PayloadDisplayName</key>
    <string>Cellular</string>
    <key>PayloadIdentifier</key>
    <string>com.apple.cellular</string>
    <key>PayloadType</key>
    <string>com.apple.cellular</string>
    <key>PayloadUUID</key>
    <string>${generateUniqueUUID()}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>APNs</key>
    <array>
    
        <!-- First APN -->
        <dict>
            <key>AllowedProtocolMask</key>
            <integer>3</integer>
            <key>AllowedProtocolMaskInDomesticRoaming</key>
            <integer>3</integer>
            <key>AllowedProtocolMaskInRoaming</key>
            <integer>3</integer>
            <key>AuthenticationType</key>
            <string>PAP</string>
            <key>DefaultProtocolMask</key>
            <integer>3</integer>
            <key>EnableXLAT464</key>
            <true />
            <key>Name</key>
            <string>${apn}</string>
            <key>ProxyServer</key>
            <string>${apn}</string>
            <key>Username</key>
            <string></string>
        </dict>
        <!-- Second APN -->
        <dict>
            <key>AllowedProtocolMask</key>
            <integer>1</integer>
            <key>AllowedProtocolMaskInDomesticRoaming</key>
            <integer>1</integer>
            <key>AllowedProtocolMaskInRoaming</key>
            <integer>1</integer>
            <key>AuthenticationType</key>
            <string>CHAP</string>
            <key>DefaultProtocolMask</key>
            <integer>1</integer>
            <key>EnableXLAT464</key>
            <false />
            <key>Name</key>
            <string>${apn}</string>
            <key>Username</key>
            <string></string>
        </dict>
    </array>
    <key>AttachAPN</key>
    <dict>
        <key>AllowedProtocolMask</key>
        <integer>3</integer>
        <key>AuthenticationType</key>
        <string>PAP</string>
        <key>Name</key>
        <string>${apn}</string>
        <key>Username</key>
        <string></string>
    </dict>
</dict>


<!-- VPN Settings -->
<dict>
    <key>PayloadDisplayName</key>
    <string>VPN</string>
    <key>PayloadIdentifier</key>
    <string>com.apple.vpn.managed.${generateUniqueUUID()}</string>
    <key>PayloadType</key>
    <string>com.apple.vpn.managed</string>
    <key>PayloadUUID</key>
    <string>${generateUniqueUUID()}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>UserDefinedName</key>
    <string>VPN Configuration</string>
    <key>VPNType</key>
    <string>IPSec</string>
    <key>IPSec</key>
    <dict>
        <key>AuthenticationMethod</key>
        <string>SharedSecret</string>
        <key>ExtendedAuthEnabled</key>
        <false/>
        <key>LocalIdentifier</key>
        <string>${apn}</string>
        <key>RemoteAddress</key>
        <string>vpn.example.com</string>
        <key>SharedSecret</key>
        <string>${generateUniqueUUID()}</string>
        <key>XAuthEnabled</key>
        <true/>
        <key>XAuthName</key>
        <string>${apn}</string>
        <key>XAuthPassword</key>
        <string>${apn}</string>
    </dict>
</dict>

<!-- Proxy Settings -->
<dict>
    <key>PayloadDisplayName</key>
    <string>Proxy</string>
    <key>PayloadIdentifier</key>
    <string>com.apple.proxy.${generateUniqueUUID()}</string>
    <key>PayloadType</key>
    <string>com.apple.proxy</string>
    <key>PayloadUUID</key>
    <string>${generateUniqueUUID()}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>HTTPEnable</key>
    <true/>
    <key>HTTPPort</key>
    <integer>8080</integer>
    <key>HTTPSEnable</key>
    <true/>
    <key>HTTPSPort</key>
    <integer>8080</integer>
    <key>FTPEnable</key>
    <true/>
    <key>FTPPort</key>
    <integer>21</integer>
    <key>SOCKSEnable</key>
    <true/>
    <key>SOCKSPort</key>
    <integer>1080</integer>
    <key>Server</key>
    <string>proxy.example.com</string>
    <key>ExclusionList</key>
    <array>
        <string>localhost</string>
        <string>127.0.0.1</string>
        <string>169.254.0.0/16</string>
    </array>
</dict>

<!-- Additional Settings -->
<dict>
    <key>PayloadDisplayName</key>
    <string>Additional Settings</string>
    <key>PayloadIdentifier</key>
    <string>com.example.additionalsettings.${generateUniqueUUID()}</string>
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadUUID</key>
    <string>${generateUniqueUUID()}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>PayloadOrganization</key>
    <string>Github:AiGptCode</string>
    <key>PayloadRemovalDisallowed</key>
    <false/>
    <key>SignalBoostEnabled</key>
    <true/>
</dict>
</array>
<key>PayloadDisplayName</key>
<string>Configuration Profile</string>
<key>PayloadIdentifier</key>
<string>com.example.profile</string>
<key>PayloadRemovalDisallowed</key>
<false/>
<key>PayloadType</key>
<string>Configuration</string>
<key>PayloadUUID</key>
<string>${generateUniqueUUID()}</string>
<key>PayloadVersion</key>
<integer>1</integer>
</dict>
</plist>
`;

            // Create a Blob object from the configuration plist string
            const configBlob = new Blob([configPlist], { type: 'application/xml' });

            // Create a download link and click it to download the file
            const downloadLink = document.createElement('a');
            downloadLink.href = URL.createObjectURL(configBlob);
            downloadLink.download = 'config.mobileconfig';
            downloadLink.click();

            // Wait for the download to complete before revoking the object URL
            setTimeout(() => {
                URL.revokeObjectURL(downloadLink.href);
            }, 1000);
        }

        configForm.addEventListener('submit', handleFormSubmit);
    </script>
</body>

</html>